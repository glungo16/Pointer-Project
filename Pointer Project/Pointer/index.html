<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	<meta charset="UTF-8">
	<title>Visuomotor Experiment</title>
  <link type="text/css" rel="stylesheet" href="style.css">
</head>
<body>
	<!-- Check this checkbox in order to run experiment with the current settings; when left unchecked, the playground mode is active -->
	<!-- <input type="checkbox" id="runExperiment" checked hidden> -->
	<input type="checkbox" id="runExperiment" hidden>

	<audio id="dingStart">
		<source src="dingStart.wav" type="audio/wav">
	</audio>
	
	<audio id="dingEnd">
		<source src="dingEnd.wav" type="audio/wav">
	</audio>

	<div class="information">
		<center><h1>Visuomotor Experiment</h1></center>
	</div>
	
	<div class="information" id="consent_form">
	
		<p>
			<center>
				TRAINING INDUCED PLASTICITY IN HUMAN MOTOR AND SENSORY SYSTEMS<br>
				VISUOMOTOR LEARNING INFORMED CONSENT FORM<br>
				DEPARTMENT OF PSYCHOLOGY, MCGILL UNIVERSITY<br><br>

				<b>Investigator: David J Ostry, McGill University</b><br><br>
			</center>
			
			<ol>
				<li>
					TITLE OF PROJECT<br><br>
					Training Induced Plasticity in Human Motor and Sensory Systems<br><br><br>
				</li>
				
				<li>
					REASON FOR THE STUDY<br><br>
					We would like you to take part in an on-line research study designed to understand human sensorimotor learning.<br><br><br>
				</li>
				
				<li>
					PROCEDURES<br><br>
					If you consent to participate, the study will take 30 minutes to complete. You will need a computer and a computer mouse to do the experiment. The experimental procedure is simple: You will be required to move an on-screen cursor between visual presented targets, and we will record these movements.<br><br><br>
				</li>
				
				<li>
					ADVANTAGES OF THE PROPOSED STUDY<br><br>
					You will not directly benefit from participating in this study. The study will provide us with information about human motor learning that may lead to the future benefit of others.<br><br><br>
				</li>
				
				<li>
					DISADVANTAGES OF THE PROPOSED STUDY<br><br>
					This is an on-line experimental study. There are no known risks.<br><br><br>
				</li>
				
				<li>
					CONFIDENTIAL NATURE OF THIS STUDY<br><br>
					Your results will be kept confidential. The information collected for this study will not be shared with any persons not directly involved with this study. You will need to have a Prolific account in order to participate. You will be identified only by your Prolific ID. The McGill Institutional Review Board may access the study data to ensure the ethical conduct of this study. Your results will be stored on computers in Professor Ostry’s laboratory at McGill. Continued protection will be provided by the fact that no one other than the investigators have access to the computers used in these studies. When the research is completed the data will archived and retained by Professor Ostry for 7 years from the date of publication.<br><br><br>
				</li>
				
				<li>
					WITHDRAWAL FROM THE STUDY<br><br>
					You are free to decide whether or not to participate, and you are also free to withdraw from the study at any time. <br><br>

					If you withdraw from this study, your data will be withdrawn. You should also know that any secondary use of this data would be restricted to a research protocol in the same or related area of study and would require approval of the REB (Research Ethics Board).
					<br><br><br>
				</li>
				
				<li>
					COMPENSATION FOR PARTICIPATION IN THE STUDY<br><br>
					The study involves a total time commitment of 30 minutes. You will receive as compensation £3.75 (~ $5 USD) if you complete the study.<br><br><br><br>
				</li>
			</ol>
			
			<center>
				DECLARATION OF CONSENT<br>
				Department of Psychology, McGill University<br><br><br>
			</center>
			
			<span style="color:red;">I have been informed of the procedures, and the advantages and disadvantages of participating in the study.  I freely and voluntarily consent to participate in this study. Further, I am aware that I am free to withdraw from the testing at any time if I desire.</span>
		</p>
			<center><button type="button" onclick="showInfo()">I Agree</button></center>
	</div>
	
	
	<div class="information" id="pre-general" hidden>
		<h3> Experiment Checklist: Please check the following checkboxes when the following are respected</h3> <br><br>
		
		<h4><input type="checkbox" id="chrome" onclick="preRequisites()" disabled> 
		<label for="chrome">You are using the browser Google Chrome for this experiment</label> </br> </br>
		
		<input type="checkbox" id="audioON" onclick="preRequisites()">
		<label for="audioON">The audio is turned on</label>
		<button type="button" onclick="dingStart.play()">Play tone</button> </br> </br>
		
		<input type="checkbox" id="acceleration" onclick="preRequisites()">
		<label for="acceleration"><div class="tooltip">The mouse acceleration is turned off<span class="tooltiptext">Instructions below</span></div></label></h4></br>
		
		<center>
			<button id="startGeneral" type="button" onclick="startGeneral()">Continue</button><br><br>
		</center>
		
		<h4> Instructions for how to disable mouse acceleration:<br></h4>
		
		<table style="width:100%">
			<tr>
				<th>Windows OS</th>
				<th>Mac OS</th>
			</tr>
			
			<tr>
				<td>
					<ol>
						<li> Go the Control Panel, select "Hardware and Sound".</li>
						<li> In the "Devices and Printers" section, click on "Mouse" to open the "Mouse Properties" window.</li>
						<li> Click the "Pointer Options" tab in the "Mouse Properties" window.</li>
						<li> Uncheck the box next to "Enhance pointer precision".</li>
						<li> Click "Apply", then "OK". You're done!</li>
					</ol>
				</td>
				
				<td>
					<ol>
						<li> Click the <i>Apple icon</i> in the upper-left corner of your screen.</li>
						<li> Select <i>System Preferences...</i> from the dropdown menu.</li>
						<li> Click on <i>Mouse</i> in the <i>System Preferences</i> window.</li>
						<li> Click on <i>Point & Click</i>.</li>
						<li> Drag the <i>Tracking Speed slider</i> to the leftmost position. Although the mouse speed becomes inconveniently slow, the mouse acceleration will also become disabled.</li>
					</ol>
				</td>
				
			</tr>
		</table>
		
	</div>
	
	
	<div id="hide" style="display:none">
	
		<div class="information" id="preExperiment">
			<h3> Training Phase</h3>
			
			<p> There are 20 trials in the training phase. Move the red dot to the target square in approximatively one second while trying to keep the dot within the bounds of the purple path. Start moving when <span style="color:blue;" onclick="dingBegin()"><u> this tone</u></span> plays and when the target square turns white. Try to reach the target when <span style="color:blue;" onclick="dingStop()"><u> this tone</u></span> plays. After reaching the target, the target square will change color to give you feedback on your movement speed. For more details, you can re-watch <a href="./experiment_video.mp4" target="_blank">this video</a>.</p><br>
			<p class="information"> <span style="color:blue;">Blue</span> = Too fast; <span style="color:green;">Green</span> = Perfect timing; <span style="color:red;">Red</span> = Too slow.</p></br>
			
			<p class="information" hidden> Your cursor speed is set at <b id="cellMouseSpeed"></b>.</p>
			
			<p class="information"><b> Click on the screen to start the training</b></p>
		</div>
		
		<div class="information" id="experiment">
			<h3> Experimental Phase</h3>
			
			<p> There are 180 trials in the experimental phase. Move the red dot to the target square in approximatively one second while trying to keep the dot within the bounds of the purple path. Start moving when the target square turns white. After reaching the target, the target square will change color to give you feedback on your movement speed. There are no sounds during the experimental phase. For more details, you can re-watch <a href="./experiment_video.mp4" target="_blank">this video</a>.</p><br>
			<p class="information"> <span style="color:blue;">Blue</span> = Too fast; <span style="color:green;">Green</span> = Perfect timing; <span style="color:red;">Red</span> = Too slow.</p></br>
			
			<p class="information" hidden> Your cursor speed is set at <b id="cellMouseSpeed2"></b>.</p>
			
			<p class="information"> <b>Click on the screen to start the experiment </b></p>
		</div>
		
		<div class="information" id="calibration">
			<center>
				<h3> Calibration Phase</h3>
				<p> Hold the mouse and the credit card as shown on the screen. Start moving the mouse along the long side of the credit card when the tone plays. When the mouse is successfully calibrated, you will automatically be led to the next phase of the experiment. For more details, you can re-watch <a href="calibration_video.mp4" target="_blank">this video</a>.
				
				<p class="information"> <b>Click on the screen to start the calibration</b></p>
			</center>
		</div>
		
		<div id="cal2" class="information" hidden>
			
			
			
			<center>
				<h3> Calibration Phase</h3>
				
				<p>The first calibration task has been successfully completed. There is one more calibration task which is identical to the previous task, except that the mouse movements must be done faster. Please follow the pace of the displayed mouse.</p>
				
				<button class="information" type="button" onclick="startCalibrationAcceleration()">Start Calibration</button> 
			</center>
		
		</div>
		
		
		<div id="pre1" class="information">
			
			
			
			<center>
				<h3> Training Phase</h3>
				
				<p>The mouse calibration has been successfully completed. The next step of the experiment is the training phase. Please click on the screen and watch the following video until the end to proceed.</p>
				
				<video id="expVideo" width="832" height="524">
					<source src="./experiment_video.mp4" type="video/mp4">
					Your browser does not support the video tag.
				</video> 	<br><br>
				
				<button class="information" id="pre2" type="button" onclick="startPreExperiment()">Start Training</button> 
			</center>
		
		</div>
		
		
		
		<div id="exp" class="information">
			
			<h3> Experimental Phase</h3>

			<p>There are 180 trials in the experimental phase. Move the red dot to the target square in approximatively one second while trying to keep the dot within the bounds of the purple path. Start moving when the target square turns white. After reaching the target, the target square will change color to give you feedback on your movement speed. There are no sounds during the experimental phase. For more details, you can re-watch <a href="./experiment_video.mp4" target="_blank">this video</a>.</p>
			
			<p class="information"> <span style="color:blue;">Blue</span> = Too fast; <span style="color:green;">Green</span> = Perfect timing; <span style="color:red;">Red</span> = Too slow.</p></br>
		
			<button class="information" type="button" onclick="startExperiment()">Start Experiment</button> 
		</div>
		
		<div id="cal" class="information">
			<center>
			<h3> Calibration Phase</h3>
			
			<p>The first step of the experiment is the calibration phase. Please click on the screen and watch the following video until the end to proceed.</p>
			
			<video id="calVideo" width="832" height="524">
				<source src="calibration_video.mp4" type="video/mp4">
				Your browser does not support the video tag.
			</video> 	<br><br>
			
			<button class="information" id="nextC" type="button" onclick="startCalibration()">Start Calibration</button></br>
			</center>
			
		</div>
		
		
		<div id="screen">
			
			
			<canvas width="1300" height="580">
			Your browser does not support HTML5 canvas
			</canvas>
			
			<!--<div id="tracker"></div>-->
		</div>
		
		
		
		
		
		<form action="../cgi-bin/Pointer/form.php" method="post" onkeydown="return event.key != 'Enter';">
			
			
			
			<div class="information" id="general">
				
				
				</br>
				
				<div>
					<div class="left">
						<b>Age</b>
					</div>
					<div class="right">
						<input type="text" name="age" maxlength="2"> <br></br>
					</div>
				</div>
				
				
				
				<div>
					<div class="left">
						<b>Other stuff</b>
					</div>
					<div class="right">
						<input type="text" name="other"><br></br>
					</div>
				</div>
				
				<div>
				
					<div>
						<div class="left">
							<b>Initial g</b>
						</div>
						<div class="right">
							<input type="text" name="g0" id="g0" value="0"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Maximum g</b>
						</div>
						<div class="right">
							<input type="text" name="gMax" id="gMax" value="30"><br></br>
							<!-- value="30" for visuomotor rotation (30 degrees); value="0.05" for velocity-dependent force field (horizontal perturbation of 5% from vertical velocity)-->
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Number of pre-trials</b>
						</div>
						<div class="right">
							<input type="text" name="numPreTrials" id="numPreTrials" value="21"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Number of trials</b>
						</div>
						<div class="right">
							<input type="text" name="numTrials" id="numTrials" value="180"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Trial number at which g starts increasing</b>
						</div>
						<div class="right">
							<input type="text" name="startIncreaseG" id="startIncreaseG" value="31"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Trial number at which g stops increasing</b>
						</div>
						<div class="right">
							<input type="text" name="stopIncreaseG" id="stopIncreaseG" value="120"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Trial number at which the washout trials start</b>
						</div>
						<div class="right">
							<input type="text" name="trialWashout" id="trialWashout" value="151"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Minimum displacement time</b>
						</div>
						<div class="right">
							<input type="text" name="minTime" id="minTime" value="800"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Maximum displacement time</b>
						</div>
						<div class="right">
							<input type="text" name="maxTime" id="maxTime" value="1000"><br><br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Mouse desired displacement</b>
						</div>
						<div class="right">
							<input type="text" name="desired_displacement" id="desired_displacement" value="6"><br><br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Cursor Speed</b>
						</div>
						<div class="right">
							<input type="text" name="mouseSpeed" id="mouseSpeed" value="0.07"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Timeout</b>
						</div>
						<div class="right">
							<input type="text" name="timeout" id="timeout" value="10000"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Cursor radius</b>
						</div>
						<div class="right">
							<input type="text" name="RADIUS" id="RADIUS" value="10"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Target size</b>
						</div>
						<div class="right">
							<input type="text" name="targetSize" id="targetSize" value="20"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Vertical line size</b>
						</div>
						<div class="right">
							<input type="text" name="verticalLineSize" id="verticalLineSize" value="50"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Smoothing coefficient</b>
						</div>
						<div class="right">
							<input type="text" name="smoothing" id="smoothing" value="0.3"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Calibration 1 variation</b>
						</div>
						<div class="right">
							<input type="text" name="calVar" id="calVar" value="0.05"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Calibration 2 variation</b>
						</div>
						<div class="right">
							<input type="text" name="calVar2" id="calVar2" value="0.1"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Output File</b>
						</div>
						<div class="right">
							<input type="text" name="outFile" id="outFile" value="test.txt"><br></br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Experiment Type</b>
						</div>
						<div class="right">
							<input type="radio" name="cursorPerturbation" id="velocity" value="velocity"><label for="velocity"><b>Velocity-dependent force field</b></label><br>
							<input type="radio" name="cursorPerturbation" id="rotation" value="rotation" checked><label for="rotation"><b>Visuomotor rotation</b></label><br><br>
							
							<input type="radio" name="rotationPoint" id="startingPoint" value="startingPoint"><label for="startingPoint"><b>Rotation point at starting point</b></label><br>
							<input type="radio" name="rotationPoint" id="bottomPoint" value="bottomPoint" checked><label for="bottomPoint"><b>Rotation point at bottom point</b></label><br><br>
							
							<input type="radio" name="targetPositions" id="1dir" value="1dir"><label for="1dir"><b>1 Path</b></label><br>
							<input type="radio" name="targetPositions" id="3dir" value="3dir" checked><label for="3dir"><b>3 Paths</b></label><br><br>
							
							<input type="radio" name="direction" id="1way" value="1way" checked><label for="1way"><b>one-way (bottom->up)</b></label><br>
							<input type="radio" name="direction" id="2way" value="2way" ><label for="2way"><b>two-way</b></label><br><br>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Presence of border on the midline</b>
						</div>
						<div class="right">
							<input type="checkbox" name="border_present" id="border_present" value="true" onclick="checkOffBorder()" checked> <label for="border_present"><b>Use border</b></label><br><br><br>
							<input type="checkbox" name="border_present" id="border_present_no" value="false" hidden>
						</div>
					</div>
					
					<div>
						<div class="left">
							<b>Timeout Type</b>
						</div>
						<div class="right">
							<input type="radio" name="timeoutType" id="pauseExp" value="pauseExp"><label for="pauseExp"><b>Pause Experiment</b></label><br>
							<input type="radio" name="timeoutType" id="exitExp" value="exitExp" checked><label for="exitExp"><b>Exit Experiment</b></label><br><br>
						</div>
					</div>
					
					<center>
					
					<button id="next" type="button" onclick="start()">Start Training (Skip videos and calibration)</button><br><br>
					<!--Submit data: <button type="button" onclick="submitExperiment()">Submit</button><br><br>-->
					</center>
				</div>
				<center>
					<button id="nextD" type="button" onclick="infoCalibration()">Continue</button></br><br>
				</center>
			</div>
			<!--
			<input type="hidden" name="g0" id="g0">
			<input type="hidden" name="gMax" id="gMax">
			<input type="hidden" name="numPreTrials" id="numPreTrials">
			<input type="hidden" name="numTrials" id="numTrials">
			<input type="hidden" name="startIncreaseG" id="startIncreaseG">
			<input type="hidden" name="stopIncreaseG" id="stopIncreaseG">
			!-->
			<input type="hidden" name="x" id="x">
			<input type="hidden" name="xf" id="xf">
			<input type="hidden" name="y" id="y">
			<input type="hidden" name="yf" id="yf">
			<input type="hidden" name="time" id="time">
			<input type="hidden" name="trialTime" id="trialTime">
			<input type="hidden" name="startMovement" id="startMovement">
			<input type="hidden" name="trialTargetReached" id="trialTargetReached">
			<input type="hidden" name="trialEnd" id="trialEnd">
			<input type="hidden" name="browserName" id="browserName">
			<input type="hidden" name="fullVersion" id="fullVersion">
			<input type="hidden" name="majorVersion" id="majorVersion">
			<input type="hidden" name="appName" id="appName">
			<input type="hidden" name="userAgent" id="userAgent">
			<input type="hidden" name="OSName" id="OSName">
			<input type="hidden" name="PROLIFIC_PID" id="PROLIFIC_PID">
			<input type="hidden" name="STUDY_ID" id="STUDY_ID">
			<input type="hidden" name="SESSION_ID" id="SESSION_ID">
			<input type="hidden" name="target1XCor" id="target1XCor">
			<input type="hidden" name="target1YCor" id="target1YCor">
			<input type="hidden" name="target2XCor" id="target2XCor">
			<input type="hidden" name="target2YCor" id="target2YCor">
			<input type="hidden" name="startingXPosition" id="startingXPosition">
			<input type="hidden" name="startingYPosition" id="startingYPosition">
			<input type="hidden" name="stoppingXPosition" id="stoppingXPosition">
			<input type="hidden" name="stoppingYPosition" id="stoppingYPosition">
			<input type="hidden" name="mouseLiftedTrials" id="mouseLiftedTrials">
			<input id="submit" type="submit" value="Submit" hidden>
			
			
			
			
		</form>
		
		<!--
		<form action="../cgi-bin/Pointer-Prolific/thank.cgi" method="post" target='hd-submit' onkeydown="return event.key != 'Enter';">
			<input type="hidden" name="n" id="n" value="0">
			<input id="submitThank" type="submit" value="Submit" hidden>
		</form>
		<iframe name='hd-submit' hidden></iframe>
		-->
		
	</div>
	
	<div class="information" id="submitForm" hidden>
		<h3> This is the end of the experiment. By clicking this button, you agree to submit the data we recorded.<br><br><br>
		
		Submit data: <button type="button" onclick="submitExperiment()">Submit</button><br><br></h3>
		
		<h4> Instructions for how to enable mouse acceleration:<br></h4>

		<table style="width:100%">
			<tr>
				<th>Windows OS</th>
				<th>Mac OS</th>
			</tr>
			
			<tr>
				<td>
					<ol>
						<li> Go the Control Panel, then select <i>Hardware and Sound</i>.</li>
						<li> In the <i>Devices and Printers</i> section, click on <i>Mouse</i> to open the <i>Mouse Properties</i> window.</li>
						<li> Click the <i>Pointer Options</i> tab in the <i>Mouse Properties</i> window.</li>
						<li> Check the box next to <i>Enhance pointer precision</i>.</li>
						<li> Click <i>Apply</i>, then <i>OK</i>.</li>
					</ol>
				</td>
				
				<td>
					<ol>
						<li> Click the <i>Apple icon</i> in the upper-left corner of your screen.</li>
						<li> Select <i>System Preferences...</i> from the dropdown menu.</li>
						<li> Click on <i>Mouse</i> in the <i>System Preferences</i> window.</li>
						<li> Click on <i>Point & Click</i>.</li>
						<li> Drag the <i>Tracking Speed slider</i> left or right to increase or decrease the speed at which your mouse pointer moves across the screen.</li>
					</ol>
				</td>
				
			</tr>
		</table>
	</div>
		<!--
		<p class="information"> By clicking this button, you agree to use your data <p>
		<p class="information"> Thank you for participating in our experiment!<p>
		!-->
	
	<!-- "defer" ensures that the html page loads before the scripts-->
	<script src="classes.js" defer></script>
	<script src="general_functions.js" defer></script>
	<script src="specific_functions.js" defer></script>
	<script src="canvas_functions.js" defer></script>
	<script src="panel_management_functions.js" defer></script>
	<script src="loop.js" defer></script>
	<script src="initialization.js" defer></script>
	<!--
	<script type="text/javascript" language="javascript">  
		var versionUpdate = (new Date()).getTime();  
		var script = document.createElement("script");  
		script.type = "text/javascript";  
		script.src = "app.js?v=" + versionUpdate;  
		document.body.appendChild(script);  
	</script>  
	-->
</body>
</html>